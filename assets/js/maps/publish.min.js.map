{"version":3,"sources":["publish.js"],"names":["Vue","el","demo","data","modalIndex","form","thumbnail","title","category","synopsis","resource","methods","makeToast","message","$bvToast","toast","autoHideDelay","addResourceLink","link","this","links","href","e","push","password","selectPicture","elem","currentTarget","style","img","backgroundImage","img_url","substring","$bvModal","mounted","me","editormd","codeFold","saveHTMLToTextarea","taskList","tocm","tex","flowChart","sequenceDiagram","dialogShowMask","dialogDraggable","imageUpload","imageUploadURL","path","onload","fullscreen","$","document","height","toolbarHandlers","redirect","show","saving","onreadystatechange","readyState","remove"],"mappings":"aAAA,IAAIA,IAAI,CACJC,GAAI,OADJD,KAAI,CACAE,KADA,GAEJC,WAAM,KACFD,KAAM,CACNE,UAAY,GACZC,MAAM,SACFC,SAAAA,MACAC,SAAO,SACPC,UAAU,EACVC,SAAAA,EACAC,MAAAA,KALEC,QAAA,CALNC,UAKM,SALNC,GAeJF,KAASG,SAAAC,MAAAF,EAAA,CACLD,MADK,OAEDI,cAAA,IACIT,aADyB,KAAAU,gBAZ3B,WAUD,IAAAC,EAAAC,KAAAd,KAAAe,MAQLH,IACQC,GAAJ,KAAIA,EAAOA,EAAKb,OAAhB,GAAAgB,KAAA,OAAAF,KAAAP,UAAA,cACA,MAAIU,IAEHJ,EAACK,KAAA,CAAAF,KACD,GAAAG,SAAA,MAEJC,cAzBK,SAUDC,GAgBLD,IAAAA,EAhBKC,EAAAC,cAAAC,MAgBSF,gBACNG,EAAMH,EAAKC,UAAL,EAAmBC,EAAME,OAAAA,GACnCX,KAAIY,SAAUF,KAAIG,aAClBb,KAAKc,KAAL,UAAmBF,IAnBlBG,QAfL,WAsCJA,IAtCIC,EAAAhB,KAyCAiB,SAAA,WAAA,CACAA,UAAS,EACLC,oBADiB,EAEjBC,UAAAA,EACAC,MAAAA,EACAC,KAAAA,EACAC,WAA6B,EAC7BC,iBAA6B,EAC7BC,gBAAAA,EACAC,iBAAgB,EAChBC,aAAAA,EACAC,eAAa,eACbC,KAAAA,gCACAC,OAAM,WACNC,KAAQC,aACJ/B,KAAK+B,OAAAA,OAALC,EAAAC,UAAAC,SAAA,KAEHC,gBAhBgB,CAiBjBA,SAAAA,WACIC,EAAAA,SAAUC,KAAA,mBAIVC,OAAQ,WAARA,EAAAA,SAAQD,KAAA,qBAOhBJ,SAAAM,mBAAA,WAC8B,aAA9BN,SAASM,YACDN,SAASO,uBAAe,kBAAY,GAAAC","file":"../publish.min.js","sourcesContent":["new Vue({\r\n    el: 'body',\r\n    data: {\r\n        demo: 34,\r\n        modalIndex: 1050,\r\n        form: {\r\n            thumbnail: '',\r\n            title: 'Python',\r\n            category: '1.2',\r\n            synopsis: 'Python',\r\n            resource: true,\r\n            article: false,\r\n            links: []\r\n        }\r\n    },\r\n    methods: {\r\n        makeToast(message) {\r\n            this.$bvToast.toast(message, {\r\n                title: \"提示消息\",\r\n                autoHideDelay: 3000,\r\n                appendToast: false\r\n            })\r\n        },\r\n        addResourceLink() {\r\n            let link = this.form.links;\r\n            try {\r\n                if (link[link.length - 1].href === '') return this.makeToast(\"所有链接必须填写完整\");\r\n            } catch (e) {\r\n            }\r\n            link.push({href: '', password: ''})\r\n        },\r\n        selectPicture(elem) {\r\n            let img = elem.currentTarget.style.backgroundImage;\r\n            let img_url = img.substring(5, img.length - 2);\r\n            this.$bvModal.hide('photoList');\r\n            this.form['thumbnail'] = img_url;\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n\r\n        //region 初始化富文本编辑器\r\n        editormd(\"editormd\", {\r\n            codeFold: true,\r\n            saveHTMLToTextarea: true,    // 保存 HTML 到 Textarea\r\n            taskList: true,\r\n            tocm: true,                  // Using [TOCM]\r\n            tex: true,                   // 开启科学公式TeX语言支持，默认关闭\r\n            flowChart: true,             // 开启流程图支持，默认关闭\r\n            sequenceDiagram: true,       // 开启时序/序列图支持，默认关闭,\r\n            dialogShowMask: true,        // 设置弹出层对话框显示透明遮罩层，全局通用，默认为true\r\n            dialogDraggable: false,      // 设置弹出层对话框不可拖动，全局通用，默认为true\r\n            imageUpload: true,\r\n            imageUploadURL: 'uploadImages',\r\n            path: 'assets/plugins/editor.md/lib/',\r\n            onload: function () {\r\n                this.fullscreen();\r\n                this.resize(\"100%\", $(document).height() - 15);\r\n            },\r\n            toolbarHandlers: {\r\n                redirect: function (cm, icon, cursor, selection) {\r\n                    me.$bvModal.show('modal-redirect')\r\n                },\r\n\r\n                saving: function (cm, icon, cursor, selection) {\r\n                    me.$bvModal.show('SaveDataModal')\r\n                },\r\n            },\r\n        });\r\n        //endregion\r\n\r\n        //region 页面加载完成业务\r\n        document.onreadystatechange = function () {\r\n            if (document.readyState === \"complete\") {\r\n                document.getElementsByClassName('loader-wrapper')[0].remove();\r\n            }\r\n        }\r\n        //endregion\r\n    }\r\n})\r\n"]}